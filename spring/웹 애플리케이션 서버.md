## 웹 애플리케이션 서버

프로그램 코드를 실행하여 애플리케이션의 로직을 실행합니다.

### 웹 서버 작동 방식

> 웹 서버는 웹 사이트의 코드와 데이터를 호스팅하는 기술입니다. 브라우저에 URL을 입력할 때 이 URL은 실제로 웹 서버의 주소 식별자입니다.

브라우저와 웹 서버는 다음과 같이 작동합니다.

1. 브라우저는 URL을 사용하여 서버의 IP 주소를 찾습니다.
2. 브라우저는 정보에 대한 HTTP 요청을 보냅니다.
3. (생략 가능)웹 서버는 데이터베이스 서버와 통신하여 관련 데이터를 찾습니다.
4. 웹 서버는 HTTP 응답으로 HTML 페이지, 이미지, 비디오 또는 파일과 같은 정적 콘텐츠를 브라우저에 반환합니다.
5. 브라우저가 해당 반환된 정보를 표시합니다.

### 애플리케이션 서버(WAS) 작동 방식

ex) Servlet, JSP, Spring MVC

> 애플리케이션 서버는 동적 콘텐츠 생성, 애플리케이션 로직 및 다양한 리소스와의 통합을 지원하여 웹 서버의 기능을 확장합니다. 애플리케이션 코드를 실행하고 메시징 시스템 및 데이터베이스와 같은 다른 소프트웨어 구성 요소와 상호 작용할 수 있는 런타임 환경을 제공합니다. 비즈니스 로직을 사용하여 웹 서버보다 더 의미 있게 데이터를 변환합니다.

웹 사이트에서 대화형 콘텐츠에 엑세스 하려고 할 때 프로세스는 다음과 같이 작동합니다.

1. 브라우저는 URL을 사용하여 서버의 IP 주소를 찾습니다.
2. 브라우저는 정보에 대한 HTTP 요청을 보냅니다.
3. 웹 서버는 요청을 애플리케이션 서버로 전송합니다.
4. 애플리케이션 서버는 비즈니스 로직을 적용하고 다른 서버 및 서드 파티 시스템과 통신하여 요청을 수행합니다.
5. 애플리케이션 서버는 새 HTML 페이지를 렌더링하고 이를 응답으로 웹 서버에 반환합니다.
6. 웹 서버는 브라우저에 응답을 반환합니다.
7. 브라우저가 정보를 표시합니다.

### 웹 서버와 애플리케이션 서버는 어떻게 작동할까요?

두 서버는 함께 작동하여 클라이언트의 요청을 처리하고 사용자에게 올바른 콘텐츠를 제공합니다. 새 요청의 경우 항상 웹 서버에게 먼저 수신됩니다. 웹 서버만으로 응답을 할 수 있는 경우 HTTP 응답을 보냅니다. 또한 사용자가 요청한 데이터가 캐시되어 있는지 확인합니다.

웹 서버에서 필요로 하는 컨텐츠에 접근 할 수 없는 경우 (**ex) 동적으로 받아와야 하는 경우, 실시간 DB 접근**) 애플리케이션 서버에 요청을 전달합니다. 그럴 경우 애플리케이션 서버가 데이터를 처리하고 비즈니스 로직을 사용하여 올바른 정보를 제공합니다. 이후 웹 서버로 다시 저달을 해주고 웹 서버에서 이를 사용자에게 전달합니다.

### 웹 서버와 애플리케이션 서버의 차이점

|             | 웹서버                                                                     | 애플리케이션 서버                                                                                              |
| ----------- | -------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------- |
| Task        | 간단한 요청에 대한 응답을 제공합니다.                                      | 데이터베이스 접근, 서비스 및 엔터프라이즈 시스템등의 더 **복잡한 콘텐츠(연산이 필요한 콘텐츠)** 를 제공합니다. |
| 프로토콜    | 프로토콜 웹 서버는 주로 **HTTP**를 사용합니다. FTP와 SMTP등도 지원합니다.  | 애플리케이션 서버는 많은 프로토콜을 지원합니다.                                                                |
| 콘텐츠 유형 | 웹 서버는 **HTML 페이지, 이미지, 비디오와 같이 정적 콘텐츠**를 제공합니다. | **실시간 업데이트, 개인화 된 정보 및 고객 지원과 같은 동적 콘텐츠**를 제공합니다.                              |
| 멀티스레딩  | 사용하지 않습니다.                                                         | 요청을 동시에 처리합니다.                                                                                      |

[출처 - aws](https://aws.amazon.com/ko/compare/the-difference-between-web-server-and-application-server/)
